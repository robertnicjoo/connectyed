import{_ as S,o as n,e as u,f as t,j as w,i as a,y as C,t as c,F as v,z as k,k as b,A as y,n as x,g as i,p as V,w as I,m as p,q as M,s as T}from"./app-D0Fdxhbm.js";import{I as L,S as P}from"./SelectOption-C_8S8sLw.js";const O={props:["isOpen","pdfUrl"],methods:{closeModal(){this.$emit("close")}}},E=["src"],N={class:"flex justify-center"};function F(o,r,f,q,e,m){return f.isOpen?(n(),u("div",{key:0,class:"modal-overlay",onClick:r[2]||(r[2]=(...l)=>m.closeModal&&m.closeModal(...l))},[t("div",{class:"modal-content",onClick:r[1]||(r[1]=w(()=>{},["stop"]))},[t("iframe",{src:f.pdfUrl,width:"300px",height:"500px"},null,8,E),t("div",N,[t("button",{class:"bg-connectyed-button-light text-connectyed-button-dark py-4 px-1 w-24 justify-self-center",onClick:r[0]||(r[0]=(...l)=>m.closeModal&&m.closeModal(...l))},"Close")])])])):a("",!0)}const j=S(O,[["render",F]]),A={name:"Register",components:{InputText:L,SelectOption:P,PdfModal:j},data(){return{currentStep:1,steps:[1,2,3,4,5,6],form:{name:"",username:"",email:"",password:"",password_confirmation:"",city:"",state:"",country:"",currentLocation:"",age:"",gender:"",hairColor:"",bodyType:"",heightFeet:"",heightInches:"",maritalStatus:"",children:"",religion:"",smoker:"",drinker:"",education:"",jobTitle:"",sports:"",hobbies:"",englishLevel:"",languages:"",privacypolicy:!1,termsofuse:!1,ismatchmaker:!1},errors:{},countries:["United States of America","Canada"],genders:["Male","Female"],bodyTypes:["Slender","Average","Athletic","Curvy","Big and Beautiful"],maritalStatuses:["Single","Separated","Divorced"],childrenOptions:["0","1","2","3","4"],religions:["Buddhism","Catholic","Christian","Confucianism","Hinduism","Islam","Jainism","Judaism","Shinto","Sikhism","Taoism","Zoroastrianism","Other"],yesNoOptions:["Yes","No"],drinkerOptions:["None","Occasionally","Often"],englishLevels:["Beginner","Intermediate","Proficient"],successMessage:"",validationErrors:{},isModalOpen:!1,pdfUrl:"",modalMode:{header:""},processing:!1}},computed:{validationErrorsList(){return Object.keys(this.errors).filter(o=>this.errors[o]&&o!=="general").map(o=>this.errors[o])}},methods:{...C({registerUser:"auth/register"}),nextStep(){this.clearErrors();let o=!1;switch(this.currentStep){case 1:this.form.name||(this.errors.name="Name is required",o=!0),this.form.username||(this.errors.username="Username is required",o=!0),this.form.email?this.validateEmail(this.form.email)||(this.errors.email="Please enter a valid email",o=!0):(this.errors.email="Email is required",o=!0),this.form.password?this.form.password.length<6&&(this.errors.password="Password must be at least 6 characters",o=!0):(this.errors.password="Password is required",o=!0),this.form.password_confirmation?this.form.password!==this.form.password_confirmation&&(this.errors.password_confirmation="Passwords do not match",o=!0):(this.errors.password_confirmation="Password confirmation is required",o=!0);break;case 2:this.form.city||(this.errors.city="City is required",o=!0),this.form.state||(this.errors.state="State is required",o=!0),this.form.country||(this.errors.country="Country is required",o=!0),this.form.currentLocation||(this.errors.currentLocation="Current Location is required",o=!0);break;case 3:this.form.age?(isNaN(this.form.age)||this.form.age<=0||this.form.age>120)&&(this.errors.age="Please enter a valid age",o=!0):(this.errors.age="Age is required",o=!0),this.form.gender||(this.errors.gender="Gender is required",o=!0),this.form.hairColor||(this.errors.hairColor="Hair Color is required",o=!0),this.form.bodyType||(this.errors.bodyType="Body Type is required",o=!0),this.form.heightFeet?(isNaN(this.form.heightFeet)||this.form.heightFeet<=0||this.form.heightFeet>8)&&(this.errors.heightFeet="Please enter a valid height in feet",o=!0):(this.errors.heightFeet="Height in Feet is required",o=!0),this.form.heightInches===""||this.form.heightInches===null?(this.errors.heightInches="Inches is required",o=!0):(isNaN(this.form.heightInches)||this.form.heightInches<0||this.form.heightInches>=12)&&(this.errors.heightInches="Please enter a valid number of inches",o=!0);break;case 4:this.form.maritalStatus||(this.errors.maritalStatus="Marital Status is required",o=!0),(this.form.children===""||this.form.children===null)&&(this.errors.children="Children is required",o=!0),this.form.religion||(this.errors.religion="Religion is required",o=!0),this.form.smoker===""&&(this.errors.smoker="Smoker status is required",o=!0),this.form.drinker||(this.errors.drinker="Drinker status is required",o=!0);break;case 5:this.form.education||(this.errors.education="Education is required",o=!0),this.form.jobTitle||(this.errors.jobTitle="Job Title is required",o=!0),this.form.sports||(this.errors.sports="Sports is required",o=!0),this.form.hobbies||(this.errors.hobbies="Hobbies is required",o=!0),this.form.englishLevel||(this.errors.englishLevel="English Level is required",o=!0),this.form.languages||(this.errors.languages="Languages is required",o=!0);break;case 6:this.form.privacypolicy||(this.errors.general="You must agree to the Privacy Policy",o=!0),this.form.termsofuse||(this.errors.general="You must agree to the Terms of Use",o=!0);break}if(!o){const r=this.steps.indexOf(this.currentStep);r<this.steps.length-1&&(this.currentStep=this.steps[r+1])}},prevStep(){const o=this.steps.indexOf(this.currentStep);o>0&&(this.currentStep=this.steps[o-1])},switchMatchmaker(){this.form.ismatchmaker=!this.form.ismatchmaker,this.form.ismatchmaker?this.steps=[1,2,6]:this.steps=[1,2,3,4,5,6],this.steps.includes(this.currentStep)||(this.currentStep=1),this.clearErrors()},goToStep(o){this.steps.includes(o)&&(this.currentStep=o)},showPrivacy(){this.modalMode.header="Privacy Policy",this.pdfUrl="/upload/pdf/privacypolicy.pdf",this.isModalOpen=!0},showTerm(){this.modalMode.header="Terms of Use Agreement",this.pdfUrl="/upload/pdf/termsofuse.pdf",this.isModalOpen=!0},closeModal(){this.isModalOpen=!1,this.pdfUrl=""},async register(){this.processing=!0,this.clearErrors(),this.successMessage="";let o={...this.form};o.smoker=o.smoker==="Yes",o.children=parseInt(o.children,10),o.age=parseInt(o.age,10),o.heightFeet=parseInt(o.heightFeet,10),o.heightInches=parseInt(o.heightInches,10),o.termsofuse=!!o.termsofuse,o.privacypolicy=!!o.privacypolicy;try{const r=await this.registerUser(o);r.success===!0&&(this.successMessage=r.message,this.validationErrors={},setTimeout(()=>{this.$router.push({name:"login"})},1500))}catch(r){r.response&&r.response.status===422?(this.validationErrors=r.response.data.errors||r.response.data.message,this.mapValidationErrors()):r.response&&r.response.status===500?this.errors.general="Server error. Please try again later.":this.errors.general=r.response.data.message||"An unexpected error occurred."}finally{this.processing=!1}},mapValidationErrors(){for(const[o,r]of Object.entries(this.validationErrors))this.errors.hasOwnProperty(o)?this.errors[o]=r[0]:this.errors.general=r[0]},clearErrors(){this.errors={}},validateEmail(o){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@(([^<>()[\]\\.,;:\s@"]+\.)+[^<>()[\]\\.,;:\s@"]{2,})$/i.test(String(o).toLowerCase())}}},d=o=>(M("data-v-b0b181cc"),o=o(),T(),o),B={class:"max-w-lg mx-auto p-4 bg-white relative"},R={class:"text-xl font-semibold mb-4"},H={key:0,class:"bg-green-200 text-green-800 p-4 mt-4 rounded"},D={key:1,class:"bg-red-200 text-red-800 p-4 mt-4 rounded"},J={key:2,class:"bg-red-200 text-red-800 p-4 mt-4 rounded"},Y={class:"font-bold text-xl mb-2"},z={class:"relative"},G={class:"flex items-center cursor-pointer mb-4 bg-orange-50 py-2 px-1 rounded-xl"},Z={class:"relative"},K={class:"ml-3 text-gray-700 text-base uppercase"},Q={key:0,class:"float-right"},W=d(()=>t("img",{class:"h-5 ml-3",src:"assets/images/icons/process.gif",alt:"Processing..."},null,-1)),X=[W],$={key:3,class:"flex items-center mb-6"},ee=["onClick"],re={key:0},se=d(()=>t("h3",{class:"font-semibold text-lg mb-4"},"Account Information",-1)),oe={class:"grid grid-cols-1 md:grid-cols-1 gap-1"},te={key:1},ie=d(()=>t("h3",{class:"font-semibold text-lg mb-4"},"Location Details",-1)),le={class:"grid grid-cols-1 md:grid-cols-1 gap-1"},ne={key:2},ue=d(()=>t("h3",{class:"font-semibold text-lg mb-4"},"Personal Information",-1)),me={class:"grid grid-cols-1 md:grid-cols-1 gap-1"},ae={class:"flex gap-4"},de={key:3},he=d(()=>t("h3",{class:"font-semibold text-lg mb-4"},"Lifestyle Information",-1)),ce={class:"grid grid-cols-1 md:grid-cols-1 gap-1"},pe={key:4},fe=d(()=>t("h3",{class:"font-semibold text-lg mb-4"},"Professional and Hobbies",-1)),ge={class:"grid grid-cols-1 md:grid-cols-1 gap-1"},be={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4"},ye={key:5},xe=d(()=>t("h3",{class:"font-semibold text-lg mb-4"},"Terms and Conditions",-1)),ve={class:"space-y-4 flex items-start"},ke={class:"text-gray-500 text-sm mb-2 flex items-center"},Ve=d(()=>t("span",{class:"text-lg"},"I have read and agree to the",-1)),Se={class:"space-y-4 flex items-start mt-2"},we={class:"text-gray-500 text-sm mb-2 flex items-center"},qe=d(()=>t("span",{class:"text-lg"},"I have read and agree to the",-1)),_e={class:"mt-6 flex justify-between"},Ue=d(()=>t("div",{class:"flex-1"},null,-1)),Ce=["disabled"],Ie={class:"my-4 w-full block text-center"};function Me(o,r,f,q,e,m){const l=p("input-text"),h=p("select-option"),_=p("router-link"),U=p("pdf-modal");return n(),u("div",B,[t("h2",R,c(e.form.ismatchmaker?"Matchmaker Registration":"Client Registration"),1),e.successMessage?(n(),u("div",H,c(e.successMessage),1)):a("",!0),e.errors.general?(n(),u("div",D,c(e.errors.general),1)):a("",!0),m.validationErrorsList.length?(n(),u("div",J,[t("ul",null,[(n(!0),u(v,null,k(m.validationErrorsList,(s,g)=>(n(),u("li",{key:g},c(s),1))),128))])])):a("",!0),t("div",Y,[t("div",z,[t("label",G,[t("div",Z,[b(t("input",{type:"checkbox","onUpdate:modelValue":r[0]||(r[0]=s=>e.form.ismatchmaker=s),class:"sr-only",onClick:r[1]||(r[1]=(...s)=>m.switchMatchmaker&&m.switchMatchmaker(...s))},null,512),[[y,e.form.ismatchmaker]]),t("div",{class:x([{"bg-connectyed-button-light":!e.form.ismatchmaker,"bg-connectyed-button-dark":e.form.ismatchmaker},"block w-14 h-8 rounded-full transition-colors duration-300"])},null,2),t("div",{class:x(["dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full transition-transform duration-300",{"translate-x-6":e.form.ismatchmaker}])},null,2)]),t("span",K,c(e.form.ismatchmaker?"Switch to Register as a Client":"Switch to Register as a Matchmaker"),1)])]),e.processing?(n(),u("span",Q,X)):a("",!0)]),e.form.ismatchmaker?a("",!0):(n(),u("div",$,[(n(!0),u(v,null,k(e.steps,(s,g)=>(n(),u("div",{key:g},[t("div",{onClick:Te=>m.goToStep(s),class:x(["text-center py-2 px-3 mx-1 rounded-full cursor-pointer",{"bg-connectyed-button-light text-connectyed-button-dark":e.currentStep===s,"bg-gray-200 text-gray-600":e.currentStep!==s}])},c(s),11,ee)]))),128))])),t("form",{onSubmit:r[34]||(r[34]=w((...s)=>m.register&&m.register(...s),["prevent"]))},[e.currentStep===1?(n(),u("div",re,[se,t("div",oe,[i(l,{label:"Name",modelValue:e.form.name,"onUpdate:modelValue":r[2]||(r[2]=s=>e.form.name=s),required:!0,error:e.errors.name,maxlength:"255"},null,8,["modelValue","error"]),i(l,{label:"Username",modelValue:e.form.username,"onUpdate:modelValue":r[3]||(r[3]=s=>e.form.username=s),required:!0,error:e.errors.username,maxlength:"50"},null,8,["modelValue","error"]),i(l,{label:"Email",modelValue:e.form.email,"onUpdate:modelValue":r[4]||(r[4]=s=>e.form.email=s),required:!0,error:e.errors.email,maxlength:"255",type:"email"},null,8,["modelValue","error"]),i(l,{label:"Password",type:"password",modelValue:e.form.password,"onUpdate:modelValue":r[5]||(r[5]=s=>e.form.password=s),required:!0,error:e.errors.password,maxlength:"100"},null,8,["modelValue","error"]),i(l,{label:"Confirm Password",type:"password",modelValue:e.form.password_confirmation,"onUpdate:modelValue":r[6]||(r[6]=s=>e.form.password_confirmation=s),required:!0,error:e.errors.password_confirmation,maxlength:"100"},null,8,["modelValue","error"])])])):a("",!0),e.currentStep===2?(n(),u("div",te,[ie,t("div",le,[i(l,{label:"City",modelValue:e.form.city,"onUpdate:modelValue":r[7]||(r[7]=s=>e.form.city=s),required:!0,error:e.errors.city,maxlength:"100"},null,8,["modelValue","error"]),i(l,{label:"State",modelValue:e.form.state,"onUpdate:modelValue":r[8]||(r[8]=s=>e.form.state=s),required:!0,error:e.errors.state,maxlength:"100"},null,8,["modelValue","error"]),i(h,{label:"Country",options:e.countries,modelValue:e.form.country,"onUpdate:modelValue":r[9]||(r[9]=s=>e.form.country=s),required:!0,error:e.errors.country},null,8,["options","modelValue","error"]),i(l,{label:"Current Location (City)",modelValue:e.form.currentLocation,"onUpdate:modelValue":r[10]||(r[10]=s=>e.form.currentLocation=s),required:!0,error:e.errors.currentLocation,maxlength:"100"},null,8,["modelValue","error"])])])):a("",!0),e.currentStep===3?(n(),u("div",ne,[ue,t("div",me,[i(l,{label:"Age",modelValue:e.form.age,"onUpdate:modelValue":r[11]||(r[11]=s=>e.form.age=s),type:"number",required:!0,error:e.errors.age,maxlength:"3",min:"1",max:"120"},null,8,["modelValue","error"]),i(h,{label:"Gender",options:e.genders,modelValue:e.form.gender,"onUpdate:modelValue":r[12]||(r[12]=s=>e.form.gender=s),required:!0,error:e.errors.gender},null,8,["options","modelValue","error"]),i(l,{label:"Hair Color",modelValue:e.form.hairColor,"onUpdate:modelValue":r[13]||(r[13]=s=>e.form.hairColor=s),required:!0,error:e.errors.hairColor,maxlength:"50"},null,8,["modelValue","error"]),i(h,{label:"Body Type",options:e.bodyTypes,modelValue:e.form.bodyType,"onUpdate:modelValue":r[14]||(r[14]=s=>e.form.bodyType=s),required:!0,error:e.errors.bodyType},null,8,["options","modelValue","error"]),t("div",ae,[i(l,{label:"Height (Feet)",modelValue:e.form.heightFeet,"onUpdate:modelValue":r[15]||(r[15]=s=>e.form.heightFeet=s),type:"number",required:!0,error:e.errors.heightFeet,maxlength:"2",min:"1",max:"8"},null,8,["modelValue","error"]),i(l,{label:"Inches",modelValue:e.form.heightInches,"onUpdate:modelValue":r[16]||(r[16]=s=>e.form.heightInches=s),type:"number",required:!0,error:e.errors.heightInches,maxlength:"2",min:"0",max:"11"},null,8,["modelValue","error"])])])])):a("",!0),e.currentStep===4?(n(),u("div",de,[he,t("div",ce,[i(h,{label:"Marital Status",options:e.maritalStatuses,modelValue:e.form.maritalStatus,"onUpdate:modelValue":r[17]||(r[17]=s=>e.form.maritalStatus=s),required:!0,error:e.errors.maritalStatus},null,8,["options","modelValue","error"]),i(h,{label:"Children",options:e.childrenOptions,modelValue:e.form.children,"onUpdate:modelValue":r[18]||(r[18]=s=>e.form.children=s),required:!0,error:e.errors.children},null,8,["options","modelValue","error"]),i(h,{label:"Religion",options:e.religions,modelValue:e.form.religion,"onUpdate:modelValue":r[19]||(r[19]=s=>e.form.religion=s),required:!0,error:e.errors.religion},null,8,["options","modelValue","error"]),i(h,{label:"Smoker",options:e.yesNoOptions,modelValue:e.form.smoker,"onUpdate:modelValue":r[20]||(r[20]=s=>e.form.smoker=s),required:!0,error:e.errors.smoker},null,8,["options","modelValue","error"]),i(h,{label:"Drinker",options:e.drinkerOptions,modelValue:e.form.drinker,"onUpdate:modelValue":r[21]||(r[21]=s=>e.form.drinker=s),required:!0,error:e.errors.drinker},null,8,["options","modelValue","error"])])])):a("",!0),e.currentStep===5?(n(),u("div",pe,[fe,t("div",ge,[i(l,{label:"Education",modelValue:e.form.education,"onUpdate:modelValue":r[22]||(r[22]=s=>e.form.education=s),required:!0,error:e.errors.education,maxlength:"100"},null,8,["modelValue","error"]),i(l,{label:"Job Title",modelValue:e.form.jobTitle,"onUpdate:modelValue":r[23]||(r[23]=s=>e.form.jobTitle=s),required:!0,error:e.errors.jobTitle,maxlength:"100"},null,8,["modelValue","error"]),i(l,{label:"Sports",modelValue:e.form.sports,"onUpdate:modelValue":r[24]||(r[24]=s=>e.form.sports=s),required:!0,error:e.errors.sports,maxlength:"100"},null,8,["modelValue","error"]),i(l,{label:"Hobbies",modelValue:e.form.hobbies,"onUpdate:modelValue":r[25]||(r[25]=s=>e.form.hobbies=s),required:!0,error:e.errors.hobbies,maxlength:"100"},null,8,["modelValue","error"])]),t("div",be,[i(h,{label:"English Level",options:e.englishLevels,modelValue:e.form.englishLevel,"onUpdate:modelValue":r[26]||(r[26]=s=>e.form.englishLevel=s),required:!0,error:e.errors.englishLevel},null,8,["options","modelValue","error"]),i(l,{label:"Languages",modelValue:e.form.languages,"onUpdate:modelValue":r[27]||(r[27]=s=>e.form.languages=s),required:!0,error:e.errors.languages,maxlength:"100"},null,8,["modelValue","error"])])])):a("",!0),e.currentStep===6?(n(),u("div",ye,[xe,t("div",ve,[t("label",ke,[b(t("input",{type:"checkbox","onUpdate:modelValue":r[28]||(r[28]=s=>e.form.privacypolicy=s),id:"privacypolicy",name:"privacypolicy",required:!0,class:"mr-2"},null,512),[[y,e.form.privacypolicy]]),Ve]),t("a",{onClick:r[29]||(r[29]=s=>m.showPrivacy()),class:"text-connectyed-link-dark cursor-pointer underline"}," Privacy Policy ")]),t("div",Se,[t("label",we,[b(t("input",{type:"checkbox","onUpdate:modelValue":r[30]||(r[30]=s=>e.form.termsofuse=s),id:"termsofuse",name:"termsofuse",required:!0,class:"mr-2"},null,512),[[y,e.form.termsofuse]]),qe]),t("a",{onClick:r[31]||(r[31]=s=>m.showTerm()),class:"text-connectyed-link-dark cursor-pointer underline"}," Terms of Use ")])])):a("",!0),t("div",_e,[e.currentStep>1?(n(),u("button",{key:0,type:"button",class:"bg-connectyed-button-pagination-light text-connectyed-button-dark py-2 px-4 rounded min-w-32 cursor-pointer",onClick:r[32]||(r[32]=(...s)=>m.prevStep&&m.prevStep(...s))}," Previous ")):a("",!0),Ue,e.currentStep<e.steps.length?(n(),u("button",{key:1,type:"button",class:"bg-connectyed-button-pagination-light text-connectyed-button-dark py-2 px-4 rounded min-w-32 cursor-pointer",onClick:r[33]||(r[33]=(...s)=>m.nextStep&&m.nextStep(...s))}," Next ")):(n(),u("button",{key:2,class:"bg-connectyed-button-light hover:bg-connectyed-button-hover-light text-connectyed-button-hover-dark py-2 px-4 rounded cursor-pointer",type:"submit",disabled:e.processing},c(e.processing?"Please wait":"Register"),9,Ce))])],32),t("label",Ie,[V(" Already have an account? "),i(_,{class:"text-connectyed-link-dark underline",to:{name:"login"}},{default:I(()=>[V("Login Now!")]),_:1})]),i(U,{isOpen:e.isModalOpen,pdfUrl:e.pdfUrl,onClose:m.closeModal},null,8,["isOpen","pdfUrl","onClose"])])}const Oe=S(A,[["render",Me],["__scopeId","data-v-b0b181cc"]]);export{Oe as default};
