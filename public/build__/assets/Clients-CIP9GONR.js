import{I as f,S as V}from"./SelectOption-DccdyI4-.js";import{d as t,e as o,t as m,F as C,l as w,h as g,f as s,p as v,j as h,o as n,w as y,k as x}from"./app-Cf285zSj.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";const M={name:"matchmakerclient",components:{InputText:f,SelectOption:V},data(){return{processing:!1,showAddClientForm:!1,user:this.$store.state.auth.user.user,authorization:this.$store.state.auth.authorization,newClient:{userId:"",isUpdating:!1,name:"",email:"",city:"",state:"",country:"",currentLocation:"",age:"",hairColor:"",weight:"",heightFeet:"",heightInches:"",maritalStatus:"",children:"",religion:"",smoker:"",drinker:"",education:"",jobTitle:"",sports:"",hobbies:"",englishLevel:"",languages:"",avatar:null},errors:{userId:"",isUpdating:!1,name:"",username:"",email:"",password:"",password_confirmation:"",city:"",state:"",country:"",currentLocation:"",age:"",hairColor:"",weight:"",heightFeet:"",heightInches:"",maritalStatus:"",children:"",religion:"",smoker:"",drinker:"",education:"",jobTitle:"",sports:"",hobbies:"",englishLevel:"",languages:"",avatar:null},clients:[],countries:["United States of America","Canada"],maritalStatuses:["Single","Separated","Divorced"],childrenOptions:["0","1","2","3","4"],religions:["Buddhism","Catholic","Christian","Confucianism","Hinduism","Islam","Jainism","Judaism","Shinto","Sikhism","Taoism","Zoroastrianism","Other"],yesNoOptions:["Yes","No"],drinkerOptions:["None","Occasionally","Often"],englishLevels:["Beginner","Intermediate","Proficient"],successMessage:"",validationErrors:{},preview:null,file:null}},methods:{onFileChange(u){const r=u.target.files[0];this.newClient.avatar=r,r?(this.preview=URL.createObjectURL(r),this.file=r):(this.preview=null,this.file=null)},async addClient(){this.processing=!0;const u=this.newClient;axios.defaults.headers.common.Authorization=`Bearer ${this.authorization.token}`,await axios.post("/api/matchmaker/clients",u,{headers:{"Content-Type":"multipart/form-data"}}).then(({data:r})=>{console.log("this.newClient.isUpdating",this.newClient.isUpdating),console.log("data",r),r.success?(alert("Profile updated successfully"),this.showAddClientForm=!1,this.getClient()):this.validationErrors=r.data}).catch(({response:r})=>{r.data.success===!1?this.validationErrors=r.data.errors:this.validationErrors={}}).finally(()=>{this.processing=!1})},async getClient(){this.processing=!0;const u=this.user.id;this.newClient,await axios.get("/api/matchmaker/clients/"+u).then(({data:r})=>{this.clients=r.data}).catch(r=>{console.error(r)}).finally(()=>{this.processing=!1})},async editClient(u){this.showAddClientForm=!this.showAddClientForm;let r=this.clients.find(c=>c.id===u);this.newClient=r,this.newClient.isUpdating=!0,this.newClient.userId=r.user_id,this.newClient.children=r.children.toString(),this.newClient.name=r.user.name,this.newClient.email=r.user.email,this.newClient.currentLocation=r.location,this.newClient.hairColor=r.haircolor,this.newClient.heightFeet=r.height,this.newClient.heightInches=r.inches,this.newClient.jobTitle=r.jobtitle,this.newClient.englishLevel=r.english,this.preview=r.avatar}},created(){this.getClient()}},U={class:"max-w-7xl mx-auto p-6 bg-white rounded-sm shadow-xs"},_={class:"flex justify-between items-center mb-6"},L=o("h2",{class:"text-2xl font-semibold"},"Matchmaker's Clients",-1),q={key:0,class:"mb-10"},F=o("h3",{class:"text-xl font-semibold mb-4"},"Add New Client",-1),S={key:0,class:"mb-1"},I={class:"alert alert-danger"},j={class:"mb-0"},A={class:"mb-4"},O={key:0,class:"mb-4"},T=["src"],E=o("label",{for:"avatar",class:"block text-gray-700"},"Upload Image",-1),N={class:"grid grid-cols-1 md:grid-cols-1 gap-1"},B={class:"grid grid-cols-1 md:grid-cols-1 gap-1"},P={class:"grid grid-cols-1 md:grid-cols-1 gap-1"},z={class:"flex gap-4"},H={class:"grid grid-cols-1 md:grid-cols-1 gap-1"},D={class:"grid grid-cols-1 md:grid-cols-1 gap-1"},J={class:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4"},R=["disabled"],W={key:1},Y=o("h3",{class:"text-xl font-semibold mb-4"},"Clients List",-1),Z={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},G=["src"],K={class:"text-lg font-bold"},Q={class:"text-gray-500 text-sm"},X={class:"text-gray-500 text-sm"},$=["onClick"],ee={key:2,class:"mt-10 text-gray-500"};function re(u,r,c,le,e,a){const i=h("input-text"),d=h("select-option"),b=h("router-link");return n(),t("div",U,[o("div",_,[L,o("button",{onClick:r[0]||(r[0]=l=>e.showAddClientForm=!e.showAddClientForm),class:"bg-green-500 hover:bg-green-700 text-white font-bold py-2 px-4 rounded"},m(e.showAddClientForm?"Cancel":"Add Client"),1)]),e.showAddClientForm?(n(),t("div",q,[F,o("form",{onSubmit:r[25]||(r[25]=v((...l)=>a.addClient&&a.addClient(...l),["prevent"])),enctype:"multipart/form-data"},[Object.keys(e.validationErrors).length>0?(n(),t("div",S,[o("div",I,[o("ul",j,[(n(!0),t(C,null,w(e.validationErrors,(l,p)=>(n(),t("li",{class:"text-red-500 text-xs italic",key:p},m(l[0]),1))),128))])])])):g("",!0),o("div",A,[e.preview?(n(),t("div",O,[o("img",{src:e.preview,alt:"Image Preview",class:"w-48 h-48 object-cover rounded-md shadow-lg"},null,8,T)])):g("",!0),E,o("input",{onChange:r[1]||(r[1]=(...l)=>a.onFileChange&&a.onFileChange(...l)),id:"avatar",type:"file",accept:"image/jpeg, image/png, image/jpg, image/gif, image/svg+xml",class:"mt-2 block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100"},null,32)]),o("div",N,[s(i,{label:"Name",modelValue:e.newClient.name,"onUpdate:modelValue":r[2]||(r[2]=l=>e.newClient.name=l),required:!0,error:!!e.errors.name,errorMessage:e.errors.name},null,8,["modelValue","error","errorMessage"]),s(i,{label:"Email",modelValue:e.newClient.email,"onUpdate:modelValue":r[3]||(r[3]=l=>e.newClient.email=l),required:!0,error:!!e.errors.email,errorMessage:e.errors.email},null,8,["modelValue","error","errorMessage"])]),o("div",B,[s(i,{label:"City",modelValue:e.newClient.city,"onUpdate:modelValue":r[4]||(r[4]=l=>e.newClient.city=l),required:!0,error:!!e.errors.city,errorMessage:e.errors.city},null,8,["modelValue","error","errorMessage"]),s(i,{label:"State",modelValue:e.newClient.state,"onUpdate:modelValue":r[5]||(r[5]=l=>e.newClient.state=l),required:!0,error:!!e.errors.state,errorMessage:e.errors.state},null,8,["modelValue","error","errorMessage"]),s(d,{label:"Country",options:e.countries,modelValue:e.newClient.country,"onUpdate:modelValue":r[6]||(r[6]=l=>e.newClient.country=l),required:!0,error:!!e.errors.country,errorMessage:e.errors.country},null,8,["options","modelValue","error","errorMessage"]),s(i,{label:"Current Location (City)",modelValue:e.newClient.currentLocation,"onUpdate:modelValue":r[7]||(r[7]=l=>e.newClient.currentLocation=l),required:!0,error:!!e.errors.currentLocation,errorMessage:e.errors.currentLocation},null,8,["modelValue","error","errorMessage"])]),o("div",P,[s(i,{label:"Age",modelValue:e.newClient.age,"onUpdate:modelValue":r[8]||(r[8]=l=>e.newClient.age=l),required:!0,error:!!e.errors.age,errorMessage:e.errors.age},null,8,["modelValue","error","errorMessage"]),s(i,{label:"Hair Color",modelValue:e.newClient.hairColor,"onUpdate:modelValue":r[9]||(r[9]=l=>e.newClient.hairColor=l),required:!0,error:!!e.errors.hairColor,errorMessage:e.errors.hairColor},null,8,["modelValue","error","errorMessage"]),s(i,{label:"Weight (lbs)",modelValue:e.newClient.weight,"onUpdate:modelValue":r[10]||(r[10]=l=>e.newClient.weight=l),required:!0,error:!!e.errors.weight,errorMessage:e.errors.weight},null,8,["modelValue","error","errorMessage"]),o("div",z,[s(i,{label:"Height (Feet)",modelValue:e.newClient.heightFeet,"onUpdate:modelValue":r[11]||(r[11]=l=>e.newClient.heightFeet=l),required:!0,error:!!e.errors.heightFeet,errorMessage:e.errors.heightFeet},null,8,["modelValue","error","errorMessage"]),s(i,{label:"Inches",modelValue:e.newClient.heightInches,"onUpdate:modelValue":r[12]||(r[12]=l=>e.newClient.heightInches=l),required:!0,error:!!e.errors.heightInches,errorMessage:e.errors.heightInches},null,8,["modelValue","error","errorMessage"])])]),o("div",H,[s(d,{label:"Marital Status",options:e.maritalStatuses,modelValue:e.newClient.maritalStatus,"onUpdate:modelValue":r[13]||(r[13]=l=>e.newClient.maritalStatus=l),required:!0},null,8,["options","modelValue"]),s(d,{label:"Children",options:e.childrenOptions,modelValue:e.newClient.children,"onUpdate:modelValue":r[14]||(r[14]=l=>e.newClient.children=l),required:!0},null,8,["options","modelValue"]),s(d,{label:"Religion",options:e.religions,modelValue:e.newClient.religion,"onUpdate:modelValue":r[15]||(r[15]=l=>e.newClient.religion=l),required:!0},null,8,["options","modelValue"]),s(d,{label:"Smoker",options:e.yesNoOptions,modelValue:e.newClient.smoker,"onUpdate:modelValue":r[16]||(r[16]=l=>e.newClient.smoker=l),required:!0},null,8,["options","modelValue"]),s(d,{label:"Drinker",options:e.drinkerOptions,modelValue:e.newClient.drinker,"onUpdate:modelValue":r[17]||(r[17]=l=>e.newClient.drinker=l),required:!0},null,8,["options","modelValue"])]),o("div",D,[s(i,{label:"Education",modelValue:e.newClient.education,"onUpdate:modelValue":r[18]||(r[18]=l=>e.newClient.education=l),required:!0,error:!!e.errors.education,errorMessage:e.errors.education},null,8,["modelValue","error","errorMessage"]),s(i,{label:"Job Title",modelValue:e.newClient.jobTitle,"onUpdate:modelValue":r[19]||(r[19]=l=>e.newClient.jobTitle=l),required:!0,error:!!e.errors.jobTitle,errorMessage:e.errors.jobTitle},null,8,["modelValue","error","errorMessage"]),s(i,{label:"Sports",modelValue:e.newClient.sports,"onUpdate:modelValue":r[20]||(r[20]=l=>e.newClient.sports=l),required:!0,error:!!e.errors.sports,errorMessage:e.errors.sports},null,8,["modelValue","error","errorMessage"]),s(i,{label:"Hobbies",modelValue:e.newClient.hobbies,"onUpdate:modelValue":r[21]||(r[21]=l=>e.newClient.hobbies=l),required:!0,error:!!e.errors.hobbies,errorMessage:e.errors.hobbies},null,8,["modelValue","error","errorMessage"])]),o("div",J,[s(d,{label:"English Level",options:e.englishLevels,modelValue:e.newClient.englishLevel,"onUpdate:modelValue":r[22]||(r[22]=l=>e.newClient.englishLevel=l),required:!0,error:!!e.errors.englishLevel,errorMessage:e.errors.englishLevel},null,8,["options","modelValue","error","errorMessage"]),s(i,{label:"Languages",modelValue:e.newClient.languages,"onUpdate:modelValue":r[23]||(r[23]=l=>e.newClient.languages=l),required:!0,error:!!e.errors.languages,errorMessage:e.errors.languages},null,8,["modelValue","error","errorMessage"])]),o("button",{class:"bg-connectyed-button-light hover:bg-connectyed-button-hover-light text-connectyed-button-hover-light hover:text-connectyed-button-hover-dark py-2 px-4 rounded float-right",type:"submit",disabled:e.processing,onClick:r[24]||(r[24]=(...l)=>a.addClient&&a.addClient(...l))},m(e.processing?"Please wait":"Save"),9,R)],32)])):g("",!0),e.clients.length>0?(n(),t("div",W,[Y,o("div",Z,[(n(!0),t(C,null,w(e.clients,l=>(n(),t("div",{key:l.id,class:"p-4 bg-gray-100 rounded-lg shadow-md flex items-start"},[o("img",{src:l.avatar?l.avatar:"/upload/images/profiles/default.png",alt:"Client Profile",class:"w-24 h-24 rounded-full object-cover mr-4"},null,8,G),o("div",null,[o("h4",K,[s(b,{to:"/"+l.user.username},{default:y(()=>[x(m(l.user.name),1)]),_:2},1032,["to"])]),o("p",Q,"Age: "+m(l.age),1),o("p",X,"Location: "+m(l.location),1),o("p",{class:"text-orange-500 text-sm py-2 cursor-pointer",onClick:p=>a.editClient(l.id)},"Edit",8,$)])]))),128))])])):(n(),t("div",ee,"No clients added yet."))])}const te=k(M,[["render",re]]);export{te as default};
