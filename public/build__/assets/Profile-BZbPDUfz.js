import{d,e,h as p,n as a,v as l,D as f,o as u}from"./app-Cf285zSj.js";import{_ as h}from"./_plugin-vue_export-helper-DlAUqK2U.js";const m={data(){return{user:{},profile:{},authorization:this.$store.state.auth.authorization,currentAvatar:"/upload/images/profiles/default.png"}},mounted(){this.getProfile()},methods:{async postProfile(){this.processing=!0,axios.defaults.headers.common.Authorization=`Bearer ${this.authorization.token}`,await axios.put("/api/profile/update",{user:this.user,profile:this.profile}).then(({data:r})=>{alert("Profile updated successfully")}).catch(r=>{console.error(r)}).finally(()=>{this.processing=!1})},async uploadAvatar(r){const t=r.target.files[0];if(!t)return;const c=new FormData;c.append("file",t),this.processing=!0,axios.defaults.headers.common.Authorization=`Bearer ${this.authorization.token}`,await axios.post("/api/profile/uploadavatar",c,{headers:{"Content-Type":"multipart/form-data"}}).then(i=>{this.currentAvatar=i.data.data}).catch(i=>{console.error(i)}).finally(()=>{this.processing=!1})},async getProfile(){this.processing=!0,axios.defaults.headers.common.Authorization=`Bearer ${this.authorization.token}`,await axios.get("/api/profile/getprofile").then(r=>{this.currentAvatar=r.data.data.avatar,this.profile=r.data.data,this.user=r.data.data.user}).catch(r=>{console.error(r)}).finally(()=>{this.processing=!1})}}},b={class:"max-w-4xl mx-auto p-6 bg-white rounded-sm shadow-sm"},x=e("h2",{class:"text-2xl font-semibold mb-4"},"Matchmaker Profile",-1),g={class:"mb-4 w-1/4"},y={key:0,class:"flex mb-4"},_=["src"],v={for:"profile-picture",class:"cursor-pointer w-full flex"},w=e("span",{class:"text-connectyed-button-dark bg-connectyed-button-light hover:bg-connectyed-button-hover hover:text-connectyed-button-hover-dark focus:outline-none focus:ring-2 focus:ring-blue-500 px-4 py-2 w-full justify-center text-center"}," Upload Image ",-1),k={class:"flex flex-wrap -mx-3"},A={class:"w-full px-3 mb-4 md:mb-0"},P=e("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"name"}," Full Name ",-1),z={class:"flex flex-wrap -mx-3 mb-4"},U={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},B=e("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"yearsexperience"}," Years of Experience ",-1),C={class:"flex flex-wrap -mx-3"},V={class:"w-full md:w-1/2 px-3 mb-4 md:mb-0"},S=e("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"city"}," City ",-1),j={class:"w-full md:w-1/2 px-3 mb-4 md:mb-0"},D=e("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"state"}," State ",-1),M={class:"relative"},N={class:"flex flex-wrap -mx-3 mb-4"},E={class:"w-full md:w-1/2 px-3 mb-6 md:mb-0"},F=e("label",{class:"block uppercase tracking-wide text-gray-700 text-xs font-bold mb-2",for:"country"}," Country ",-1),L={class:"relative"},O=e("option",{value:"United States of America"},"United States of America",-1),T=e("option",{value:"Canada"},"Canada",-1),I=e("option",{value:"Other"},"Other",-1),Y=[O,T,I],q=e("div",{class:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700"},[e("svg",{class:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},[e("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})])],-1),G=e("div",{class:"flex items-center justify-end"},[e("button",{class:"bg-connectyed-button-light text-connectyed-button-dark hover:bg-connectyed-button-hover hover:text-connectyed-button font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",type:"submit"}," Save Profile ")],-1);function H(r,t,c,i,s,n){return u(),d("div",b,[x,e("div",g,[s.currentAvatar?(u(),d("div",y,[e("img",{src:s.currentAvatar,alt:"Profile Preview",class:"rounded-full object-cover w-48 h-48"},null,8,_)])):p("",!0),e("label",v,[w,e("input",{type:"file",id:"profile-picture",class:"hidden",onChange:t[0]||(t[0]=(...o)=>n.uploadAvatar&&n.uploadAvatar(...o)),accept:"image/*"},null,32)])]),e("form",{class:"w-full",action:"javascript:void(0)",onSubmit:t[6]||(t[6]=(...o)=>n.postProfile&&n.postProfile(...o)),method:"put"},[e("div",k,[e("div",A,[P,a(e("input",{class:"appearance-none block w-full border border-gray-500 rounded p-2 mb-3 leading-tight focus:outline-none focus:bg-white",type:"text","onUpdate:modelValue":t[1]||(t[1]=o=>s.user.name=o),id:"name"},null,512),[[l,s.user.name]])])]),e("div",z,[e("div",U,[B,a(e("input",{class:"appearance-none block w-full border border-gray-200 rounded p-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500","onUpdate:modelValue":t[2]||(t[2]=o=>s.profile.yearsexperience=o),id:"yearsexperience",type:"text"},null,512),[[l,s.profile.yearsexperience]])])]),e("div",C,[e("div",V,[S,a(e("input",{class:"appearance-none block w-full border border-gray-200 rounded p-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500","onUpdate:modelValue":t[3]||(t[3]=o=>s.profile.city=o),id:"city",type:"text"},null,512),[[l,s.profile.city]])]),e("div",j,[D,e("div",M,[a(e("input",{class:"appearance-none block w-full border border-gray-200 rounded p-2 leading-tight focus:outline-none focus:bg-white focus:border-gray-500","onUpdate:modelValue":t[4]||(t[4]=o=>s.profile.state=o),id:"state",type:"text"},null,512),[[l,s.profile.state]])])])]),e("div",N,[e("div",E,[F,e("div",L,[a(e("select",{class:"block appearance-none w-full border-gray-200 text-gray-700 p-2 pr-8 rounded leading-tight focus:outline-none focus:bg-white focus:border-gray-500","onUpdate:modelValue":t[5]||(t[5]=o=>s.profile.country=o),id:"country"},Y,512),[[f,s.profile.country]]),q])])]),G],32)])}const Q=h(m,[["render",H]]);export{Q as default};
