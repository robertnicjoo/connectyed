import{m as _,d as n,e as t,F as x,l as b,h as f,n as c,v as u,t as m,k as i,f as h,w as p,j as y,o as r}from"./app-Cf285zSj.js";import{_ as v}from"./_plugin-vue_export-helper-DlAUqK2U.js";const w={name:"login",data(){return{auth:{username:"",password:""},validationErrors:{},processing:!1}},methods:{..._({signIn:"auth/login"}),async login(){this.processing=!0,await axios.post("/api/user/login",this.auth).then(({data:s})=>{localStorage.setItem("user",JSON.stringify(s)),axios.defaults.headers.common.Authorization=`Bearer ${s.authorization.token}`,this.signIn()}).catch(({response:s})=>{s.status===422?this.validationErrors=s.data.data:this.validationErrors=s.data.data}).finally(()=>{this.processing=!1})}}},k={class:"mx-auto max-w-7xl py-6 sm:px-6 lg:px-8 flex items-center justify-center"},E={class:"w-full max-w-sm mt-20"},N=t("div",{class:"font-bold text-xl mb-2"},"Login",-1),V={class:"bg-connectyed-card-light shadow-md rounded px-8 pt-6 pb-8 mb-4 border-solid border-2 border-gray-200",action:"javascript:void(0)",method:"post"},j={key:0,class:"mb-1"},C={class:"alert alert-danger"},B={class:"mb-0"},L={class:"mb-4"},U=t("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"username"}," Username ",-1),D={class:"mb-6"},F=t("label",{class:"block text-gray-700 text-sm font-bold mb-2",for:"password"}," Password ",-1),I={class:"flex items-center justify-between"},S=["disabled"],z=t("div",{class:"my-5 text-black"},null,-1),A={class:"mt-4"},O=t("p",{class:"text-center text-gray-500 text-xs"}," Â©2024 Connectyed. ",-1);function P(s,a,T,J,e,l){const d=y("router-link");return r(),n("div",k,[t("div",E,[N,t("form",V,[Object.keys(e.validationErrors).length>0?(r(),n("div",j,[t("div",C,[t("ul",B,[(r(!0),n(x,null,b(e.validationErrors,(o,g)=>(r(),n("li",{class:"text-red-500 text-xs italic",key:g},m(o[0]),1))),128))])])])):f("",!0),t("div",L,[U,c(t("input",{class:"appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline","onUpdate:modelValue":a[0]||(a[0]=o=>e.auth.username=o),name:"username",id:"username",type:"text",placeholder:"Username",autocomplete:"off"},null,512),[[u,e.auth.username]])]),t("div",D,[F,c(t("input",{class:"appearance-none border rounded w-full py-2 px-3 text-gray-700 mb-3 leading-tight focus:outline-none focus:shadow-outline","onUpdate:modelValue":a[1]||(a[1]=o=>e.auth.password=o),name:"password",id:"password",type:"password",placeholder:"******"},null,512),[[u,e.auth.password]])]),t("div",I,[t("button",{class:"bg-connectyed-button-light text-connectyed-button-dark hover:bg-connectyed-button-hover-light hover:text-connectyed-button-light w-full h-12 duration-150",type:"submit",disabled:e.processing,onClick:a[2]||(a[2]=(...o)=>l.login&&l.login(...o))},m(e.processing?"Please wait":"Login"),9,S)]),z,t("label",null,[i("Don't have an account? "),h(d,{to:{name:"register"}},{default:p(()=>[i("Register Now!")]),_:1})]),t("div",A,[h(d,{to:"/password/forgot",class:"text-blue-500 hover:underline"},{default:p(()=>[i(" Forgot your password? ")]),_:1})])]),O])])}const q=v(w,[["render",P]]);export{q as default};
